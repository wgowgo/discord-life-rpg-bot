# 🔐 안전한 봇 배포 가이드

## ⚠️ 중요: 토큰 보안

**절대 하지 말 것:**
- ❌ GitHub에 토큰을 직접 업로드
- ❌ 코드에 토큰을 하드코딩
- ❌ 공개 저장소에 민감한 정보 노출

## 🛡️ 안전한 배포 방법

### 1. 로컬에서 .env 파일 생성

프로젝트 루트에 `.env` 파일을 생성하고 다음 내용을 입력:

```env
BOT_TOKEN=실제_봇_토큰_여기에_입력
CLIENT_ID=실제_클라이언트_ID_여기에_입력
GUILD_ID=실제_서버_ID_여기에_입력
```

### 2. Railway 배포 (추천)

1. **GitHub 저장소 생성**
   - Public 저장소로 생성
   - `.env` 파일은 자동으로 제외됨 (`.gitignore`에 포함)

2. **Railway에서 환경 변수 설정**
   - Railway 대시보드 → Variables 탭
   - 다음 변수들을 추가:
     ```
     BOT_TOKEN=실제_봇_토큰
     CLIENT_ID=실제_클라이언트_ID
     GUILD_ID=실제_서버_ID
     ```

3. **자동 배포**
   - GitHub에 푸시하면 자동으로 배포됨
   - 토큰은 Railway 서버에만 저장됨

### 3. Replit 배포

1. **Secrets 설정**
   - Replit → Secrets 탭
   - 다음 키-값 쌍 추가:
     ```
     BOT_TOKEN: 실제_봇_토큰
     CLIENT_ID: 실제_클라이언트_ID
     GUILD_ID: 실제_서버_ID
     ```

2. **코드에서 환경 변수 사용**
   ```javascript
   const token = process.env.BOT_TOKEN;
   ```

## 🔒 보안 체크리스트

- [ ] `.env` 파일이 `.gitignore`에 포함되어 있음
- [ ] `config.json`에 실제 토큰이 없음
- [ ] GitHub 저장소가 Public이어도 안전함
- [ ] 클라우드 서비스에서 환경 변수로 토큰 관리
- [ ] 토큰이 로그에 출력되지 않음

## 🚨 토큰이 노출된 경우

1. **즉시 토큰 재생성**
   - Discord 개발자 포털 → Bot → Reset Token

2. **새 토큰으로 업데이트**
   - 로컬 `.env` 파일 수정
   - 클라우드 서비스 환경 변수 업데이트

3. **봇 재시작**
   - 새로운 토큰으로 봇 재시작

## 📝 배포 후 확인사항

- [ ] 봇이 온라인 상태로 표시됨
- [ ] 슬래시 커맨드가 정상 작동
- [ ] 데이터베이스가 정상 작동
- [ ] 로그에 오류가 없음
